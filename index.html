<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StockSense AI â€” Live Trading Dashboard</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0"></script>
</head>
<body>

  <!-- â•â• TOP BAR â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <nav class="topbar">
    <div class="brand">ğŸ“ˆ <span>StockSense AI</span></div>
    <div class="search-area">
      <input id="tickerInput" type="text" placeholder="Search tickerâ€¦ (AAPL, TSLA, NVDA)" spellcheck="false" />
      <button id="analyzeBtn" onclick="loadTicker()">Analyze</button>
    </div>
    <div class="nav-tabs">
      <button class="nav-tab active" onclick="switchTab('charts')">ğŸ“Š Charts</button>
      <button class="nav-tab" onclick="switchTab('trading')">ğŸ¤– Auto Trade</button>
    </div>
    <div class="live-badge" id="liveBadge">
      <span class="dot"></span> LIVE
    </div>
  </nav>

  <!-- â•â• LIVE PRICE BANNER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <section class="price-banner hidden" id="priceBanner">
    <div class="price-main">
      <h1 id="bannerName">â€”</h1>
      <span class="price-value" id="bannerPrice">0.00</span>
      <span class="price-change" id="bannerChange">0.00 (0.00%)</span>
    </div>
    <div class="price-stats">
      <div><label>Open</label><span id="statOpen">â€”</span></div>
      <div><label>High</label><span id="statHigh">â€”</span></div>
      <div><label>Low</label><span id="statLow">â€”</span></div>
      <div><label>Vol</label><span id="statVol">â€”</span></div>
      <div><label>52W H</label><span id="stat52H">â€”</span></div>
      <div><label>52W L</label><span id="stat52L">â€”</span></div>
    </div>
  </section>

  <!-- â•â• TAB: CHARTS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="chartsTab" class="tab-content">
    <div class="dashboard">
      <div class="chart-area">
        <div class="timeframe-bar">
          <button class="tf-btn active" data-tf="1d">1D</button>
          <button class="tf-btn" data-tf="5d">5D</button>
          <button class="tf-btn" data-tf="1mo">1M</button>
          <button class="tf-btn" data-tf="3mo">3M</button>
          <button class="tf-btn" data-tf="1y">1Y</button>
          <button class="tf-btn" data-tf="2y">2Y</button>
        </div>
        <div class="chart-container"><canvas id="mainChart"></canvas></div>
        <div class="chart-container volume-chart"><canvas id="volumeChart"></canvas></div>

        <div class="prediction-section hidden" id="predSection">
          <h3>ğŸ¤– Next 5-Day Price Prediction</h3>
          <div class="chart-container"><canvas id="predChart"></canvas></div>
          <div class="pred-metrics">
            <div class="metric-card">
              <span class="m-label">Confidence</span>
              <span class="m-value" id="predConf">â€”</span>
            </div>
            <div class="metric-card">
              <span class="m-label">Risk Level</span>
              <span class="m-value" id="predRisk">â€”</span>
            </div>
            <div class="metric-card">
              <span class="m-label">Pred Day 1</span>
              <span class="m-value" id="predDay1">â€”</span>
            </div>
            <div class="metric-card">
              <span class="m-label">Pred Day 5</span>
              <span class="m-value" id="predDay5">â€”</span>
            </div>
          </div>
        </div>
      </div>

      <aside class="sidebar">
        <div class="panel">
          <h3>ğŸ”¥ High Potential Stocks</h3>
          <p class="panel-sub">Ranked by momentum + indicators</p>
          <div id="hpLoader" class="mini-loader">Loading scanner...</div>
          <div id="hpList" class="hp-list"></div>
        </div>
        <div class="panel hidden" id="sentPanel">
          <h3>ğŸ“° News Sentiment</h3>
          <div class="sent-gauge">
            <div class="gauge-circle" id="gaugeCircle"><span id="gaugeText">â€”</span></div>
            <span class="gauge-label" id="gaugeLabel">Neutral</span>
          </div>
          <ul id="sentList" class="sent-list"></ul>
        </div>
        <div class="panel hidden" id="indPanel">
          <h3>ğŸ“Š Technical Indicators</h3>
          <table class="ind-table"><tbody id="indBody"></tbody></table>
        </div>
      </aside>
    </div>
  </div>

  <!-- â•â• TAB: AUTO TRADING â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="tradingTab" class="tab-content hidden">
    <div class="trading-dashboard">

      <!-- Portfolio Overview -->
      <div class="trade-grid">
        <div class="portfolio-header">
          <div class="port-card balance">
            <span class="pc-label">Portfolio Value</span>
            <span class="pc-value" id="portValue">$100,000.00</span>
          </div>
          <div class="port-card">
            <span class="pc-label">Cash Balance</span>
            <span class="pc-value" id="portBalance">$100,000.00</span>
          </div>
          <div class="port-card">
            <span class="pc-label">Unrealized P&L</span>
            <span class="pc-value" id="portUnrealized">$0.00</span>
          </div>
          <div class="port-card">
            <span class="pc-label">Realized P&L</span>
            <span class="pc-value" id="portRealized">$0.00</span>
          </div>
          <div class="port-card">
            <span class="pc-label">Win Rate</span>
            <span class="pc-value" id="portWinRate">0%</span>
          </div>
          <div class="port-card">
            <span class="pc-label">Total Trades</span>
            <span class="pc-value" id="portTrades">0</span>
          </div>
        </div>

        <!-- Bot Controls -->
        <div class="bot-controls">
          <div class="bot-status">
            <span class="bot-dot" id="botDot"></span>
            <span id="botStatus">Bot: OFF</span>
          </div>
          <div class="bot-buttons">
            <button class="btn-bot" id="toggleBotBtn" onclick="toggleBot()">âš¡ Activate Bot</button>
            <button class="btn-scan" onclick="runAutoScan()">ğŸ” Auto Scan & Trade</button>
            <button class="btn-trade" onclick="executeManualTrade()">ğŸ“ˆ Trade Current Ticker</button>
            <button class="btn-reset" onclick="resetPortfolio()">ğŸ”„ Reset Portfolio</button>
          </div>
        </div>

        <!-- Open Positions -->
        <div class="trade-panel">
          <h3>ğŸ“‚ Open Positions</h3>
          <div class="positions-table-wrap">
            <table class="positions-table">
              <thead>
                <tr>
                  <th>Ticker</th>
                  <th>Shares</th>
                  <th>Buy Price</th>
                  <th>Current</th>
                  <th>P&L</th>
                  <th>P&L %</th>
                  <th>Stop Loss</th>
                  <th>Take Profit</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody id="positionsBody">
                <tr><td colspan="9" class="empty-msg">No open positions</td></tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Trade Log -->
        <div class="trade-panel">
          <h3>ğŸ“‹ Trade History</h3>
          <div class="trade-log" id="tradeLog">
            <div class="empty-msg">No trades yet. Activate the bot or execute a trade.</div>
          </div>
        </div>

        <!-- Live Trade Feed -->
        <div class="trade-panel">
          <h3>âš¡ Live Trade Feed</h3>
          <div class="trade-feed" id="tradeFeed"></div>
        </div>

      </div>
    </div>
  </div>

  <!-- â•â• DISCLAIMER FOOTER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <footer>
    <p>âš ï¸ <strong>PAPER TRADING ONLY</strong> â€” Simulated portfolio with fake money. Not real trades.</p>
    <p>For <strong>educational purposes only</strong>. Not financial advice. | StockSense AI â€” Hackathon 2026</p>
  </footer>

  <script src="app.js"></script>
</body>
</html>